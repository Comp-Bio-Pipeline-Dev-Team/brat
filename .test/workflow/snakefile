## test snakefile for github actions!

## singularities (preferred)
## thank god, my container works 
## --use-singularity and --software-deployment-method apptainer both work with just singularity defined in the rule!
FASTQC_SING = "docker://madiapgar/bulk_rna_seq:fastqc_conda-v0.12.1"
FASTQC_CONDA = "envs/fastqc_env.yml"

rule all:
    input:
        "give_me_fastqc_version.txt"


rule run_pretrimming_fastqc:
    output:
        out_file = "give_me_fastqc_version.txt"
    singularity:
        FASTQC_SING
    conda:
        FASTQC_CONDA
    shell:
        """
        echo "creating empty file!"
        touch {output.out_file}

        echo "running fastqc"
        fastqc --version >> {output.out_file}

        echo "obtained fastqc version!"
        """